services:
  graphql.graphql:
    class: Fubhy\GraphQL\GraphQL
  graphql.schema_provider:
    class: Drupal\graphql\SchemaProvider
    tags:
      - { name: service_collector, tag: graphql_schema_provider, call: addSchemaProvider }
  graphql.schema_provider.entity:
    class: Drupal\graphql\EntitySchemaProvider
    arguments: ['@entity.manager', '@typed_data_manager', '@graphql.type_resolver']
    tags:
      - { name: graphql_schema_provider }
  graphql.schema_provider.views:
    class: Drupal\graphql\ViewsSchemaProvider
    arguments: ['@entity.manager', '@typed_data_manager', '@graphql.type_resolver']
    tags:
      - { name: graphql_schema_provider }
  graphql.type_resolver:
    class: Drupal\graphql\TypeResolver
    tags:
      - { name: service_collector, tag: graphql_type_resolver, call: addTypeResolver }
  graphql.type_resolver.typed_data:
    class: Drupal\graphql\TypedDataTypeResolver
    arguments: ['@entity.manager', '@typed_data_manager', '@renderer']
    tags:
      - { name: graphql_type_resolver, priority: -100 }
  graphql.page_display_variant_subscriber:
    class: Drupal\graphql\EventSubscriber\ExplorerPageDisplayVariantSubscriber
    tags:
      - { name: event_subscriber }
